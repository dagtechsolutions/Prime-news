<%- include('partials/header', { pageTitle: article.title, menuItems: menuItems }) %>

<div class="container">
    <article class="article-full">
        <header class="article-header">
            <h1 class="article-title"><%= article.title %></h1>
            <div class="article-meta-full">
                By <strong><%= article.author || 'Prime News Staff' %></strong> |
                Published on <time datetime="<%= article.date %>"><%= new Date(article.date).toLocaleDateString() %></time> |
                Category: <a href="/category/<%= article.category.toLowerCase().replace(/\s+/g, '-').replace(/[^\w-]+/g, '') %>"><%= article.category %></a>
            </div>
        </header>

        <% if (article.image) { %>
            <img src="<%= article.image %>" alt="<%= article.title %>" class="featured-image">
        <% } %>

        <section class="article-content">
            <%- article.content %> <!-- EJS unescaped output for HTML content -->
        </section>

        <% if (article.tags && article.tags.length > 0) { %>
            <section class="article-tags">
                <strong>Tags:</strong>
                <% article.tags.forEach(tag => { %>
                    <span><%= tag %></span><% if (article.tags.indexOf(tag) < article.tags.length - 1) { %>, <% } %>
                <% }); %>
            </section>
        <% } %>
    </article>
</div>

<%- include('partials/footer') %>